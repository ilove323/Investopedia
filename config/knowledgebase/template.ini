# =====================================================
# 知识库配置模板
# =====================================================
# 使用说明：
# 1. 复制此文件并重命名为 <your_kb_name>.ini
# 2. 修改 [KNOWLEDGE_BASE] 中的 name 和 description
# 3. 根据文档类型调整 [CHUNKING] 和其他参数
# 4. 创建对应的提示词文件: config/prompts/<your_kb_name>.txt

[KNOWLEDGE_BASE]
# 知识库基本信息
name = your_knowledge_base_name
description = 知识库描述
language = Chinese

# =====================================================
# 文档分块配置
# =====================================================
[CHUNKING]
# 基础分块设置
chunk_method = naive
# 建议值：512-2048字符，根据文档类型调整
chunk_size = 1024
# 建议值：10-20%重叠
chunk_overlap = 128

# 重叠百分比配置
overlapped_percent = 12.5

# 子分块配置（用于检索）
child_chunk_enabled = true
child_chunk_size = 256
child_chunk_overlap = 64

# TOC（目录）增强
toc_enhance_enabled = true
toc_extract_from_bookmarks = true
toc_extract_from_headings = true
toc_extract_from_patterns = true
toc_max_depth = 4
toc_generate_summaries = true

# =====================================================
# 文档解析配置
# =====================================================
[DOCUMENT_PROCESSING]
# PDF解析器
pdf_parser = deepdoc

# 图像与表格处理
image_context_enabled = true
image_context_window = 512
table_context_enabled = true
table_context_window = 512
table_recognition = true
formula_recognition = false

# OCR配置
ocr_enabled = true
ocr_language = chi_sim
layout_recognize = deepdoc

# =====================================================
# 元数据提取配置
# =====================================================
[METADATA]
# 自动元数据提取
auto_metadata_enabled = true

# 元数据字段（自动提取）
extract_title = true
extract_author = true
extract_date = true
extract_keywords = true
extract_summary = true

# 自定义元数据字段（根据业务需求定义）
custom_metadata_fields = 

# 元数据提取模型
metadata_extraction_model = gpt-4-turbo-preview
metadata_confidence_threshold = 0.7

# =====================================================
# 关键词提取配置
# =====================================================
[KEYWORDS]
# 自动关键词提取
auto_keywords_enabled = true

# 关键词提取方法
keyword_extraction_method = hybrid
keywords_per_document = 10
keywords_per_chunk = 5

# LLM关键词提取配置
llm_keywords_enabled = true
llm_keywords_model = gpt-4-turbo-preview
llm_keywords_temperature = 0.3

# 关键词过滤
min_keyword_length = 2
max_keyword_length = 20
filter_stopwords = true

# =====================================================
# 知识图谱配置
# =====================================================
[KNOWLEDGE_GRAPH]
# 图谱功能
graph_enabled = true
entity_extraction_enabled = true
relation_extraction_enabled = true

# 实体类型（根据业务领域定义）
entity_types = ENTITY_TYPE_1,ENTITY_TYPE_2,ENTITY_TYPE_3

# 关系类型（根据业务领域定义）
relation_types = RELATION_1,RELATION_2,RELATION_3

# 提取配置
entity_confidence_threshold = 0.7
relation_confidence_threshold = 0.7
max_entities_per_document = 50
max_relations_per_document = 100

# =====================================================
# 社区检测与报告配置
# =====================================================
[COMMUNITY]
# 社区检测
community_detection_enabled = true
community_algorithm = louvain
community_resolution = 1.0
min_community_size = 2
max_community_size = 50

# 社区报告生成
community_reports_enabled = true
report_generation_model = gpt-4-turbo-preview
report_language = zh
report_max_length = 800

# 报告内容配置
report_include_summary = true
report_include_key_policies = true
report_include_timeline = true
report_include_keywords = true
report_include_statistics = true

# =====================================================
# 检索配置
# =====================================================
[RETRIEVAL]
# 检索策略
retrieval_strategy = hybrid
similarity_threshold = 0.3
max_tokens = 2048

# 检索增强
use_child_chunks = true
rerank_enabled = true
rerank_model = bge-reranker-large

# 图谱检索配置
graph_retrieval = true
entity_normalization = true
max_clusters = 50

# =====================================================
# 问答配置
# =====================================================
[QA]
# LLM配置
qa_model = gpt-4-turbo-preview
max_tokens = 2000
temperature = 0.1
top_p = 0.9

# 提示词配置
system_prompt_file = your_knowledge_base_name.txt
prompt_override_enabled = true
