# =====================================================
# æ”¿ç­–åº“çŸ¥è¯†åº“+çŸ¥è¯†å›¾è°±ç³»ç»Ÿ - é…ç½®æ–‡ä»¶æ¨¡æ¿
# =====================================================
# è¯´æ˜ï¼šå¤åˆ¶æ­¤æ–‡ä»¶ä¸º config.iniï¼Œç„¶åæ ¹æ®å®é™…æƒ…å†µä¿®æ”¹

[APP]
# åº”ç”¨åç§°
name = æ”¿ç­–åº“çŸ¥è¯†åº“+çŸ¥è¯†å›¾è°±ç³»ç»Ÿ
description = ä¸“é¡¹å€ºã€ç‰¹è®¸ç»è¥ã€æ•°æ®èµ„äº§æ”¿ç­–çŸ¥è¯†åº“
icon = ğŸ“‹
layout = wide
debug = false

# é»˜è®¤è¯­è¨€
default_language = zh
supported_languages = zh,en

# æœç´¢é…ç½®
search_results_per_page = 10
max_search_results = 100

# çŸ¥è¯†å›¾è°±é…ç½®
graph_max_nodes = 200
graph_max_edges = 500
default_graph_layout = force_directed

# æ—¶æ•ˆæ€§æ£€æŸ¥é…ç½®
expiration_warning_days = 30

# æ–‡ä»¶ä¸Šä¼ é…ç½®ï¼ˆå­—èŠ‚ï¼‰
max_upload_size = 52428800  # 50MB
allowed_file_types = pdf,docx,xlsx,txt

# =====================================================
[RAGFLOW]
# RAGFlowæœåŠ¡åœ°å€
host = localhost
port = 9380

# RAGFlow APIè®¤è¯
# è¯´æ˜ï¼šä½¿ç”¨API Keyè¿›è¡Œè¯·æ±‚è®¤è¯ï¼Œé€šè¿‡HTTP Authorizationå¤´å‘é€
# æ ¼å¼ï¼šapi_key = your-api-key-here
# è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²è¡¨ç¤ºæ— è®¤è¯ï¼ˆå…¬å¼€è®¿é—®ï¼‰
api_key =

# APIè¶…æ—¶å’Œé‡è¯•é…ç½®
timeout = 30
retry_times = 3
retry_delay = 1

# æœç´¢é…ç½®
search_top_k = 10
search_score_threshold = 0.5
search_type = hybrid

# é—®ç­”é…ç½®
qa_max_tokens = 2000
qa_temperature = 0.1
qa_top_p = 0.9

# æ–‡æ¡£å¤„ç†é…ç½®
# æ”¿ç­–æ¡ç›®è¾ƒé•¿ï¼Œä½¿ç”¨è¾ƒå¤§çš„åˆ†å—å¤§å°
document_chunk_size = 800
# å¢åŠ é‡å ä¿æŒè¿è´¯æ€§
document_chunk_overlap = 100
document_smart_chunking = true

# RAGFlowçŸ¥è¯†åº“é«˜çº§é…ç½®
# æœ€å¤§TOKENæ•°
ragflow_max_tokens = 2048
# ç›¸ä¼¼åº¦é˜ˆå€¼ï¼ˆæ£€ç´¢å¬å›ï¼‰
ragflow_similarity_threshold = 0.3
# æœ€å¤§èšç±»æ•°
ragflow_max_clusters = 50
# éšæœºç§å­
ragflow_random_seed = 42

# RAGFlowå…ƒæ•°æ®å’Œæ–‡æ¡£è§£æé…ç½®
# è‡ªåŠ¨å…ƒæ•°æ®æå–
ragflow_auto_metadata = true
# å…ƒæ•°æ®æå–ï¼ˆç»“æ„åŒ–ä¿¡æ¯ï¼‰
ragflow_metadata_extraction = true
# è¡¨æ ¼è¯†åˆ«
ragflow_table_recognition = true
# å…¬å¼è¯†åˆ«
ragflow_formula_recognition = false
# OCRè¯†åˆ«
ragflow_ocr_enabled = true
# PDFè§£æå™¨
ragflow_pdf_parser = deepdoc
# æ£€ç´¢æ¨¡å¼
ragflow_retrieval_mode = general
# å®ä½“å½’ä¸€åŒ–
ragflow_entity_normalization = true
# å›¾æ£€ç´¢å¢å¼º
ragflow_graph_retrieval = true

# ========== çŸ¥è¯†åº“é…ç½® ==========
# è¯´æ˜ï¼šä»¥ä¸‹çŸ¥è¯†åº“éœ€è¦åœ¨RAGFlowä¸­æ‰‹åŠ¨åˆ›å»º
#
# å‰ç½®æ­¥éª¤ï¼š
# 1. è®¿é—® RAGFlow Webç•Œé¢ï¼šhttp://host:port
# 2. ç™»å½•RAGFlowç®¡ç†åå°
# 3. åˆ›å»ºçŸ¥è¯†åº“ï¼ˆKnowledge Baseï¼‰
# 4. è®¾ç½®çŸ¥è¯†åº“åç§°ä¸ºä¸‹é¢é…ç½®çš„ kb_name å€¼
#
# çŸ¥è¯†åº“åç§°ï¼ˆå¿…é¡»ä¸RAGFlowä¸­åˆ›å»ºçš„çŸ¥è¯†åº“åç§°ä¸€è‡´ï¼‰
kb_name = policy_demo_kb

# çŸ¥è¯†åº“æè¿°
kb_description = æ”¿ç­–çŸ¥è¯†åº“ - ä¸“é¡¹å€º/ç‰¹è®¸ç»è¥/æ•°æ®èµ„äº§

# æ—¥å¿—çº§åˆ«
log_level = INFO

# =====================================================
[WHISPER]
# WhisperæœåŠ¡åœ°å€
host = localhost
port = 9000

# APIè¶…æ—¶å’Œé‡è¯•é…ç½®
timeout = 60
retry_times = 3
retry_delay = 1

# è½¬å†™é…ç½®
transcribe_task = transcribe
transcribe_language = zh
word_timestamps = false

# éŸ³é¢‘å¤„ç†é…ç½®
audio_sample_rate = 16000
audio_channels = 1
audio_normalize = true
audio_remove_silence = false
audio_max_duration = 300  # ç§’ï¼Œ5åˆ†é’Ÿ

# æ–‡ä»¶é…ç½®
audio_max_file_size = 52428800  # 50MB
audio_supported_formats = .wav,.mp3,.m4a,.flac,.ogg

# æ¨¡å‹é…ç½®
whisper_model = base  # tiny/base/small/medium/large
whisper_device = cpu  # cpu/gpu
whisper_compute_type = float32

# æ—¥å¿—çº§åˆ«
log_level = INFO

# =====================================================
[DATABASE]
# æ•°æ®åº“ç±»å‹
type = sqlite

# SQLiteé…ç½®
sqlite_path = data/database/policy.db
sqlite_check_same_thread = false
sqlite_timeout = 10.0

# è¿æ¥æ± é…ç½®
pool_size = 5
max_overflow = 10
pool_recycle = 3600

# åˆå§‹åŒ–é…ç½®
auto_create_tables = true
auto_init_tags = true

# æŸ¥è¯¢é…ç½®
query_timeout = 30
batch_size = 100

# æ—¥å¿—çº§åˆ«
log_level = INFO
sql_echo = false

# =====================================================
[GRAPH]
# å›¾è°±æ¸²æŸ“å­˜å‚¨è·¯å¾„
graph_storage_dir = data/graphs

# å›¾è°±é…ç½®
is_directed = false
graph_type = undirected

# Pyviså¯è§†åŒ–é…ç½®
pyvis_height = 750px
pyvis_width = 100%
pyvis_bgcolor = #222222
pyvis_font_color = white
pyvis_font_size = 14
pyvis_physics_enabled = true
pyvis_stabilization_iterations = 200

# å›¾è°±é™åˆ¶
max_nodes = 200
max_edges = 500
max_node_label_length = 20

# æ¸²æŸ“é…ç½®
save_html = true
export_formats = html,json,svg
auto_refresh = false

# é»˜è®¤è§†å›¾
default_view = å…¨å±€è§†å›¾

# æ—¥å¿—çº§åˆ«
log_level = INFO

# =====================================================
[LOGGING]
# æ—¥å¿—è¾“å‡ºé…ç½®
log_dir = logs
log_level = INFO
log_format = %(asctime)s - %(name)s - %(levelname)s - %(message)s

# æ—¥å¿—è½®è½¬é…ç½®
rotating_max_bytes = 10485760  # 10MB
rotating_backup_count = 5

# =====================================================
[QWEN]
# é˜¿é‡Œäº‘é€šä¹‰åƒé—®å¤§æ¨¡å‹é…ç½®
# APIå¯†é’¥è·å–åœ°å€: https://dashscope.console.aliyun.com/

# APIå¯†é’¥ï¼ˆå¿…å¡«ï¼‰
api_key = your-dashscope-api-key-here

# æ¨¡å‹é€‰æ‹©
# qwen-turbo: å¿«é€Ÿå“åº”ï¼Œé€‚åˆç®€å•ä»»åŠ¡
# qwen-plus: å¹³è¡¡æ€§èƒ½ï¼Œæ¨èä½¿ç”¨
# qwen-max: æœ€å¼ºæ€§èƒ½ï¼Œå¤æ‚ä»»åŠ¡
model = qwen-plus

# ç”Ÿæˆå‚æ•°
temperature = 0.1  # æ¸©åº¦å‚æ•° (0-1)ï¼Œè¶Šä½è¶Šç¡®å®š
max_tokens = 2000  # æœ€å¤§ç”Ÿæˆtokenæ•°
top_p = 0.9  # æ ¸é‡‡æ ·å‚æ•°

# æç¤ºè¯é…ç½®
prompt_file = config/prompts/entity_extraction.txt

# APIé…ç½®
timeout = 60  # è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
retry_times = 3  # é‡è¯•æ¬¡æ•°
retry_delay = 2  # é‡è¯•å»¶è¿Ÿï¼ˆç§’ï¼‰

# æ—¥å¿—çº§åˆ«
log_level = INFO
