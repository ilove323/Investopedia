# æ”¿ç­–åº“çŸ¥è¯†åº“+çŸ¥è¯†å›¾è°±ç³»ç»Ÿ

<!-- æ–‡æ¡£ç±»å‹: é¡¹ç›®ä¸»æ–‡æ¡£ | ç‰ˆæœ¬: 2026.1 | æ›´æ–°æ—¶é—´: 2026-01-26 -->
<!-- æè¿°: é¡¹ç›®å®Œæ•´è¯´æ˜æ–‡æ¡£ï¼ŒåŒ…å«å®‰è£…ã€é…ç½®ã€ä½¿ç”¨ã€æµ‹è¯•çš„å…¨é¢æŒ‡å— -->

ä¸€ä¸ªä¸“æ³¨äºæ”¿ç­–çŸ¥è¯†ç®¡ç†çš„æ™ºèƒ½ç³»ç»Ÿï¼Œé›†æˆäº†RAGFlowæ–‡æ¡£å¤„ç†ã€çŸ¥è¯†å›¾è°±å¯è§†åŒ–ã€è¯­éŸ³é—®ç­”ç­‰åŠŸèƒ½ï¼Œæ”¯æŒä¸“é¡¹å€ºã€ç‰¹è®¸ç»è¥ã€æ•°æ®èµ„äº§ä¸‰å¤§æ”¿ç­–é¢†åŸŸã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# 1. å…‹éš†é¡¹ç›®
git clone [repository-url]
cd Investopedia

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. é…ç½®ç³»ç»Ÿ
cp config/config.ini.template config/config.ini
# ç¼–è¾‘ config.ini è®¾ç½®RAGFlowå’Œå…¶ä»–æœåŠ¡å‚æ•°

# 4. è¿è¡Œæµ‹è¯• (å¯é€‰)
cd tests
python run_tests.py

# 5. å¯åŠ¨åº”ç”¨
streamlit run app.py
```

## ğŸ“š æ–‡æ¡£å¯¼èˆª

- **[ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—](QUICK_START.md)** - 5åˆ†é’Ÿéƒ¨ç½²æŒ‡å—
- **[ğŸ“– ç³»ç»Ÿæ¶æ„è¯´æ˜](SYSTEM_ARCHITECTURE.md)** - æŠ€æœ¯æ¶æ„å’Œç»„ä»¶è¯´æ˜
- **[âš™ï¸ å®Œæ•´ç³»ç»ŸæŒ‡å—](SYSTEM_GUIDE.md)** - è¯¦ç»†çš„éƒ¨ç½²å’Œé…ç½®æŒ‡å—
- **[ğŸ”§ RAGFlowé…ç½®](RAGFLOW_CONFIG_GUIDE.md)** - RAGFlowç‰¹å®šé…ç½®è¯´æ˜
- **[ğŸ”Œ RAGFlow SDKé›†æˆ](RAGFLOW_SDK_INTEGRATION.md)** - å®˜æ–¹SDKå®ç°ç»†èŠ‚
- **[ğŸ§ª æµ‹è¯•æ–‡æ¡£](TESTING_GUIDE.md)** - å•å…ƒæµ‹è¯•å®Œæ•´æŒ‡å—
- **[ğŸ“ˆ å¼€å‘è¿›åº¦](PROGRESS.md)** - é¡¹ç›®è¿›åº¦å’ŒçŠ¶æ€
- **[ğŸ“ å¾…åŠæ¸…å•](TODO.md)** - åŠŸèƒ½è§„åˆ’å’Œbugè¿½è¸ª

## ğŸ¯ ä¸»è¦åŠŸèƒ½

- **RAGFlowæ–‡æ¡£æŸ¥çœ‹å™¨** - å®Œæ•´çš„æ–‡æ¡£ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒæºæ–‡ä»¶æŸ¥çœ‹ã€åˆ†å—è¯¦æƒ…ã€æ–‡æ¡£æœç´¢ã€çŠ¶æ€ç›‘æ§
- **æ™ºèƒ½æ‘˜è¦ç”Ÿæˆ** - åŸºäºDeepSeek APIçš„å¤šå±‚æ¬¡æ–‡æ¡£æ‘˜è¦
- **çŸ¥è¯†å›¾è°±æ„å»º** - NetworkX + Pyvisäº¤äº’å¼å›¾è°±å¯è§†åŒ–
- **è¯­éŸ³é—®ç­”ç³»ç»Ÿ** - Whisperè¯­éŸ³è¯†åˆ« + æ™ºèƒ½é—®ç­”
- **ç­–ç•¥æœç´¢åˆ†æ** - å¤šç»´åº¦æ”¿ç­–æ–‡æ¡£è¿‡æ»¤å’Œåˆ†æ

## ğŸ”§ ç³»ç»Ÿè¦æ±‚

- Python 3.12+ (æ¨è3.13æˆ–3.14)
- RAGFlowå®ä¾‹ï¼ˆç”¨äºæ–‡æ¡£å¤„ç†ï¼‰
- RAGFlow Python SDK (>=0.13.0)
- DeepSeek APIå¯†é’¥ï¼ˆç”¨äºAIåŠŸèƒ½ï¼‰

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜è¯·æŸ¥çœ‹ç›¸å…³æ–‡æ¡£æˆ–æäº¤Issueã€‚

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Streamlitå‰ç«¯åº”ç”¨ (http://localhost:8501)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é¡µé¢æ¨¡å— â”‚ ç»„ä»¶ â”‚ ä¸šåŠ¡é€»è¾‘ â”‚ çŸ¥è¯†å›¾è°± â”‚ æ•°æ®åº“ â”‚
â”‚ æœç´¢    â”‚ UI  â”‚ å…ƒæ•°æ®  â”‚Networkâ”‚SQLiteâ”‚
â”‚ å›¾è°±    â”‚    â”‚ æ ‡ç­¾    â”‚Pyvis â”‚      â”‚
â”‚ è¯­éŸ³    â”‚    â”‚ æ—¶æ•ˆæ€§  â”‚      â”‚      â”‚
â”‚ æ–‡æ¡£    â”‚    â”‚ å½±å“    â”‚      â”‚      â”‚
â”‚ åˆ†æ    â”‚    â”‚         â”‚      â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                           â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RAGFlowæœåŠ¡      â”‚      â”‚  WhisperæœåŠ¡      â”‚
â”‚ (Dockerå®¹å™¨)      â”‚      â”‚ (Dockerå®¹å™¨)      â”‚
â”‚ ç«¯å£: 9380        â”‚      â”‚ ç«¯å£: 9000        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ ¸å¿ƒåŠŸèƒ½

### 1. æ”¿ç­–æœç´¢
- å¿«é€Ÿæœç´¢æ¡†å’Œé«˜çº§æœç´¢é¢æ¿
- å¤šç»´åº¦ç­›é€‰ï¼ˆæ”¿ç­–é¢†åŸŸã€åœ°åŒºã€æ—¶é—´ã€çŠ¶æ€ï¼‰
- åŸºäºRAGFlowçš„è¯­ä¹‰æœç´¢
- æœç´¢ç»“æœå±•ç¤ºå’Œè¯¦æƒ…é¢æ¿

### 2. çŸ¥è¯†å›¾è°±
- æ”¿ç­–å®ä½“å’Œå…³ç³»å¯è§†åŒ–
- å¤šä¸ªèŠ‚ç‚¹ç±»å‹ï¼ˆæ”¿ç­–ã€æœºæ„ã€åœ°åŒºã€æ¦‚å¿µã€é¡¹ç›®ï¼‰
- å¤šç§å…³ç³»ç±»å‹ï¼ˆå‘å¸ƒã€é€‚ç”¨ã€å¼•ç”¨ã€å½±å“ã€æ›¿ä»£ï¼‰
- äº¤äº’å¼å›¾è°±æµè§ˆï¼ˆç¼©æ”¾ã€æ‹–æ‹½ã€ç‚¹å‡»ï¼‰

### 3. è¯­éŸ³é—®ç­”
- å®æ—¶è¯­éŸ³å½•åˆ¶æˆ–æ–‡ä»¶ä¸Šä¼ 
- åŸºäºWhisperçš„è¯­éŸ³è¯†åˆ«
- æ™ºèƒ½é—®ç­”å’Œæ”¿ç­–æ¨è
- å†å²è®°å½•ç®¡ç†

### 4. æ–‡æ¡£ç®¡ç†
- æ”¿ç­–æ–‡æ¡£ä¸Šä¼ ï¼ˆPDFã€DOCXã€XLSXï¼‰
- è‡ªåŠ¨å…ƒæ•°æ®æå–
- è‡ªåŠ¨æ ‡ç­¾ç”Ÿæˆ
- å¤„ç†çŠ¶æ€è·Ÿè¸ª

### 5. æ”¿ç­–åˆ†æ
- æ—¶æ•ˆæ€§åˆ†æï¼ˆæœ‰æ•ˆ/å¤±æ•ˆ/å·²æ›´æ–°ï¼‰
- å½±å“åˆ†æï¼ˆèŒƒå›´ã€ç¨‹åº¦ã€å»ºè®®ï¼‰
- è¶‹åŠ¿ç»Ÿè®¡å’Œå¯è§†åŒ–

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**ï¼šStreamlit >= 1.40.0
- **çŸ¥è¯†å›¾è°±**ï¼šNetworkX >= 3.4 + Pyvis >= 0.3.2
- **æ•°æ®å¤„ç†**ï¼šPandas >= 2.2.3, NumPy >= 2.0.0
- **æ•°æ®å­˜å‚¨**ï¼šSQLite
- **å¤–éƒ¨æœåŠ¡é›†æˆ**ï¼š
  - RAGFlow SDK >= 0.13.0ï¼ˆæ–‡æ¡£å¤„ç†å’ŒAIèƒ½åŠ›ï¼‰
  - Whisperï¼ˆè¯­éŸ³è½¬æ–‡å­—ï¼‰
- **å¼€å‘è¯­è¨€**ï¼šPython 3.12+ (æ”¯æŒ3.13å’Œ3.14)

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

**åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š**

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd Investopedia

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆä½¿ç”¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„venvç›®å½•ï¼‰
python3 -m venv venv
```

**æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š**

```bash
# Linux / macOS
source venv/bin/activate

# Windows (cmd.exe)
venv\Scripts\activate

# Windows (PowerShell)
venv\Scripts\Activate.ps1
```

æ¿€æ´»æˆåŠŸåï¼Œå‘½ä»¤è¡Œæç¤ºç¬¦ä¼šæ˜¾ç¤º `(venv)` å‰ç¼€ã€‚

**å®‰è£…ä¾èµ–ï¼š**

```bash
# ç¡®ä¿å·²æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
pip install --upgrade pip
pip install -r requirements.txt
```

**åœç”¨è™šæ‹Ÿç¯å¢ƒï¼š**

```bash
deactivate
```

### 2. é…ç½®æ–‡ä»¶

**å¤åˆ¶é…ç½®æ¨¡æ¿åˆ›å»ºå®é™…é…ç½®æ–‡ä»¶ï¼š**

```bash
cp config/config.ini.template config/config.ini
```

**âš ï¸ é‡è¦ï¼š** ç¼–è¾‘ `config/config.ini` æ—¶ï¼Œå¿…é¡»æ³¨æ„RAGFlowçŸ¥è¯†åº“é…ç½®ï¼š

```ini
[RAGFLOW]
host = localhost           # RAGFlowæœåŠ¡å™¨åœ°å€
port = 9380               # RAGFlowæœåŠ¡ç«¯å£
api_key =                 # APIè®¤è¯ï¼ˆå¦‚éœ€è¦ï¼‰

# âš ï¸ çŸ¥è¯†åº“é…ç½®ï¼ˆå¿…é¡»ä¸RAGFlowä¸­å®é™…åˆ›å»ºçš„çŸ¥è¯†åº“åç§°ä¸€è‡´ï¼‰
kb_name = policy_demo_kb  # åœ¨RAGFlowä¸­æ‰‹åŠ¨åˆ›å»ºæ­¤çŸ¥è¯†åº“ï¼
kb_description = æ”¿ç­–çŸ¥è¯†åº“ - ä¸“é¡¹å€º/ç‰¹è®¸ç»è¥/æ•°æ®èµ„äº§
```

**ğŸ“– è¯¦è§ï¼š[RAGFLOW_SETUP.md](RAGFLOW_SETUP.md)** - å®Œæ•´çš„RAGFlowå‰ç½®è®¾ç½®æ­¥éª¤

ä¹Ÿå¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡è¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„å€¼ï¼š

```bash
# è®¾ç½®RAGFlowæœåŠ¡åœ°å€ï¼ˆç¯å¢ƒå˜é‡ä¼˜å…ˆï¼‰
export RAGFLOW_HOST=localhost
export RAGFLOW_PORT=9380

# è®¾ç½®WhisperæœåŠ¡åœ°å€ï¼ˆç¯å¢ƒå˜é‡ä¼˜å…ˆï¼‰
export WHISPER_HOST=localhost
export WHISPER_PORT=9000

# è®¾ç½®DeepSeek API Keyï¼ˆRAGFlowä½¿ç”¨ï¼‰
export DEEPSEEK_API_KEY=your_api_key_here
```

**è¯´æ˜ï¼š** ç¯å¢ƒå˜é‡ä¼šä¼˜å…ˆè¦†ç›– `config.ini` ä¸­çš„é…ç½®ã€‚è¿™æ ·å¯ä»¥åœ¨ä¸ä¿®æ”¹æ–‡ä»¶çš„æƒ…å†µä¸‹å¿«é€Ÿåˆ‡æ¢é…ç½®ï¼ˆä¾‹å¦‚åœ¨Dockeréƒ¨ç½²æ—¶ï¼‰ã€‚

### 3. å¯åŠ¨å¤–éƒ¨æœåŠ¡

**âš ï¸ é‡è¦å‰ç½®æ­¥éª¤ï¼ˆå¿…é¡»å…ˆåšï¼‰ï¼š**

åœ¨å¯åŠ¨åº”ç”¨ä¹‹å‰ï¼Œéœ€è¦å®ŒæˆRAGFlowçš„è®¾ç½®ï¼š

1. **å¯åŠ¨RAGFlowå’ŒWhisperå®¹å™¨**
   ```bash
   docker-compose -f docker/docker-compose.ragflow.yml up -d
   docker-compose -f docker/docker-compose.whisper.yml up -d
   ```

2. **åœ¨RAGFlowä¸­åˆ›å»ºçŸ¥è¯†åº“**
   - è®¿é—® http://localhost:9380 ç™»å½•RAGFlow
   - åˆ›å»ºçŸ¥è¯†åº“ï¼Œåç§°å¿…é¡»ä¸ºï¼š`policy_demo_kb`
   - è¯¥åç§°å¿…é¡»ä¸ config.ini ä¸­çš„ `kb_name` ä¸€è‡´

3. **éªŒè¯RAGFlowè¿æ¥**
   ```bash
   python3 test_ragflow_upload.py
   ```

**è¯¦ç»†æ­¥éª¤è§ï¼š[RAGFLOW_SETUP.md](RAGFLOW_SETUP.md)**

æœ¬åº”ç”¨ä¾èµ–ä¸¤ä¸ªå¤–éƒ¨æœåŠ¡ï¼š
- **RAGFlow** (ç«¯å£ 9380) - ç”¨äºæ–‡æ¡£å¤„ç†å’ŒAIèƒ½åŠ›
- **Whisper** (ç«¯å£ 9000) - ç”¨äºè¯­éŸ³è½¬æ–‡å­—

è¯·å‚è€ƒ `know-how.md` ä¸­çš„"å¤–éƒ¨ç³»ç»Ÿé…ç½®"ç« èŠ‚äº†è§£å¦‚ä½•éƒ¨ç½²è¿™ä¸¤ä¸ªæœåŠ¡ã€‚

**æ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼š**

```bash
# æ£€æŸ¥RAGFlowæœåŠ¡
curl http://localhost:9380/api/health

# æ£€æŸ¥WhisperæœåŠ¡
curl http://localhost:9000/health
```

åº”ç”¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ£€æŸ¥è¿™äº›æœåŠ¡çš„å¯ç”¨æ€§ï¼Œå¹¶åœ¨ä¾§è¾¹æ æ˜¾ç¤ºçŠ¶æ€ã€‚

### 4. å¯åŠ¨åº”ç”¨

```bash
# è¿è¡ŒStreamlitåº”ç”¨
streamlit run app.py

# åº”ç”¨ä¼šåœ¨ http://localhost:8501 æ‰“å¼€
```

## é¡¹ç›®ç»“æ„

```
Investopedia/
â”œâ”€â”€ config/                          # é…ç½®ç›®å½•ï¼ˆä»…å­˜æ”¾é…ç½®æ–‡ä»¶ï¼‰
â”‚   â”œâ”€â”€ config.ini.template         # é…ç½®æ–‡ä»¶æ¨¡æ¿
â”‚   â””â”€â”€ config.ini                  # å®é™…é…ç½®æ–‡ä»¶ï¼ˆéœ€å¤åˆ¶æ¨¡æ¿åˆ›å»ºï¼‰
â”‚
â”œâ”€â”€ src/                            # æºä»£ç 
â”‚   â”œâ”€â”€ config/                     # é…ç½®åŠ è½½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ config_loader.py        # é…ç½®åŠ è½½å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/                      # é¡µé¢æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ search_page.py         # æœç´¢é¡µ
â”‚   â”‚   â”œâ”€â”€ graph_page.py          # å›¾è°±é¡µ
â”‚   â”‚   â”œâ”€â”€ voice_page.py          # è¯­éŸ³é¡µ
â”‚   â”‚   â”œâ”€â”€ documents_page.py      # æ–‡æ¡£ç®¡ç†é¡µ
â”‚   â”‚   â””â”€â”€ analysis_page.py       # åˆ†æé¡µ
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                 # UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ search_ui.py           # æœç´¢UI
â”‚   â”‚   â”œâ”€â”€ graph_ui.py            # å›¾è°±UI
â”‚   â”‚   â”œâ”€â”€ voice_ui.py            # è¯­éŸ³UI
â”‚   â”‚   â””â”€â”€ policy_card.py         # å¡ç‰‡ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                   # æœåŠ¡å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ ragflow_client.py      # RAGFlowå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ whisper_client.py      # Whisperå®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ api_utils.py           # APIå·¥å…·
â”‚   â”‚
â”‚   â”œâ”€â”€ business/                   # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ metadata_extractor.py  # å…ƒæ•°æ®æå–
â”‚   â”‚   â”œâ”€â”€ tag_generator.py       # æ ‡ç­¾ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ validity_checker.py    # æ—¶æ•ˆæ€§æ£€æŸ¥
â”‚   â”‚   â””â”€â”€ impact_analyzer.py     # å½±å“åˆ†æ
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                     # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ policy.py              # æ”¿ç­–æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ tag.py                 # æ ‡ç­¾æ¨¡å‹
â”‚   â”‚   â””â”€â”€ graph.py               # å›¾è°±æ¨¡å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ database/                   # æ•°æ®åº“æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ db_manager.py          # æ•°æ®åº“ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ policy_dao.py          # æ”¿ç­–DAO
â”‚   â”‚   â””â”€â”€ schema.sql             # è¡¨ç»“æ„
â”‚   â”‚
â”‚   â””â”€â”€ utils/                      # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ logger.py              # æ—¥å¿—å·¥å…·
â”‚       â”œâ”€â”€ file_utils.py          # æ–‡ä»¶å·¥å…·
â”‚       â””â”€â”€ summarizer.py          # æ‘˜è¦ç”Ÿæˆ
â”‚
â”œâ”€â”€ venv/                           # è™šæ‹Ÿç¯å¢ƒï¼ˆå·²æ·»åŠ åˆ°.gitignoreï¼‰
â”œâ”€â”€ data/                           # æ•°æ®ç›®å½•ï¼ˆå·²æ·»åŠ åˆ°.gitignoreï¼‰
â”‚   â”œâ”€â”€ database/                  # SQLiteæ•°æ®åº“
â”‚   â”œâ”€â”€ uploads/                   # ä¸Šä¼ æ–‡ä»¶
â”‚   â””â”€â”€ graphs/                    # å¯¼å‡ºå›¾è°±
â”‚
â”œâ”€â”€ logs/                           # æ—¥å¿—ç›®å½•ï¼ˆå·²æ·»åŠ åˆ°.gitignoreï¼‰
â”œâ”€â”€ tests/                          # æµ‹è¯•ç›®å½•
â”œâ”€â”€ app.py                          # ä¸»åº”ç”¨å…¥å£
â”œâ”€â”€ requirements.txt                # Pythonä¾èµ–
â”œâ”€â”€ .gitignore                      # Gitå¿½ç•¥é…ç½®
â”œâ”€â”€ .aiignore                       # AIå·¥å…·å¿½ç•¥é…ç½®
â”œâ”€â”€ README.md                       # é¡¹ç›®è¯´æ˜
â””â”€â”€ know-how.md                     # æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£
```

## æ•°æ®åº“

### åˆå§‹åŒ–

æ•°æ®åº“ä¼šåœ¨åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨åˆå§‹åŒ–ï¼š

```python
from src.database.db_manager import get_db_manager

db = get_db_manager()
```

### è¡¨ç»“æ„

- **policies** - æ”¿ç­–è¡¨
- **tags** - æ ‡ç­¾è¡¨ï¼ˆä¸‰çº§æ ‡ç­¾ä½“ç³»ï¼‰
- **policy_tags** - æ”¿ç­–-æ ‡ç­¾å…³è”
- **policy_relations** - æ”¿ç­–å…³ç³»
- **processing_logs** - å¤„ç†æ—¥å¿—

### æ•°æ®è®¿é—®

```python
from src.database.policy_dao import get_policy_dao

dao = get_policy_dao()

# åˆ›å»ºæ”¿ç­–
policy_id = dao.create_policy({
    'title': 'æ”¿ç­–æ ‡é¢˜',
    'document_number': 'æ–‡å·',
    'policy_type': 'special_bonds'
})

# æŸ¥è¯¢æ”¿ç­–
policy = dao.get_policy_by_id(policy_id)

# æ·»åŠ æ ‡ç­¾
dao.add_policy_tag(policy_id, tag_id)
```

## å¤–éƒ¨æœåŠ¡é›†æˆ

### RAGFlow

è´Ÿè´£æ–‡æ¡£å¤„ç†å’ŒAIèƒ½åŠ›ï¼š

```python
from src.services.ragflow_client import get_ragflow_client

ragflow = get_ragflow_client()

# ä¸Šä¼ æ–‡æ¡£
doc_id = ragflow.upload_document('path/to/file.pdf', 'file.pdf')

# æœç´¢
results = ragflow.search('æœç´¢æŸ¥è¯¢')

# é—®ç­”
answer = ragflow.ask('æå‡ºçš„é—®é¢˜')
```

### Whisper

è´Ÿè´£è¯­éŸ³è½¬æ–‡å­—ï¼š

```python
from src.services.whisper_client import get_whisper_client

whisper = get_whisper_client()

# è½¬å†™éŸ³é¢‘æ–‡ä»¶
result = whisper.transcribe('path/to/audio.mp3')

# æå–æ–‡æœ¬
text = whisper.extract_text(result)
```

## é…ç½®ç¤ºä¾‹

### é…ç½®æ–‡ä»¶ (config/config.ini)

é…ç½®ç³»ç»Ÿä½¿ç”¨ä¸¤å±‚é…ç½®ï¼š
1. **é…ç½®æ–‡ä»¶** - `config/config.ini` (ä» `config.ini.template` å¤åˆ¶)
2. **ç¯å¢ƒå˜é‡** - ç¯å¢ƒå˜é‡ä¼šä¼˜å…ˆè¦†ç›–é…ç½®æ–‡ä»¶

```ini
# åº”ç”¨é…ç½®ç¤ºä¾‹
[APP]
debug = false
default_language = zh

# RAGFlowé…ç½®ç¤ºä¾‹
[RAGFLOW]
host = localhost
port = 9380
timeout = 30
deepseek_api_key = your_api_key_here

# Whisperé…ç½®ç¤ºä¾‹
[WHISPER]
host = localhost
port = 9000
timeout = 60

# æ•°æ®åº“é…ç½®ç¤ºä¾‹
[DATABASE]
sqlite_path = data/database/policy.db
auto_create_tables = true
```

### ç¯å¢ƒå˜é‡è¦†ç›–

```bash
# è¿™äº›ç¯å¢ƒå˜é‡ä¼šè¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„å¯¹åº”å€¼
export RAGFLOW_HOST=remote.server.com
export RAGFLOW_PORT=9380
export DEEPSEEK_API_KEY=your_api_key_here
export WHISPER_HOST=192.168.1.100
export WHISPER_PORT=9000
```

### Pythonä»£ç ä¸­ä½¿ç”¨é…ç½®

```python
from src.config import get_config

config = get_config()

# è®¿é—®å„ä¸ªé…ç½®å€¼
host = config.ragflow_host
port = config.ragflow_port
timeout = config.ragflow_timeout

# æˆ–ä½¿ç”¨ä½çº§API
value = config.get("RAGFLOW", "host")
int_value = config.get_int("RAGFLOW", "port")
bool_value = config.get_bool("APP", "debug")
list_value = config.get_list("APP", "allowed_file_types")
```

## ä½¿ç”¨ç¤ºä¾‹

### 1. ä¸Šä¼ æ”¿ç­–æ–‡æ¡£

1. æ‰“å¼€åº”ç”¨åœ¨"æ–‡æ¡£ç®¡ç†"é¡µé¢
2. ç‚¹å‡»"ä¸Šä¼ æ–‡æ¡£"æŒ‰é’®
3. é€‰æ‹©PDF/DOCXæ–‡ä»¶
4. ç­‰å¾…å¤„ç†å®Œæˆï¼ˆè‡ªåŠ¨æå–å…ƒæ•°æ®ã€ç”Ÿæˆæ ‡ç­¾ã€æ›´æ–°å›¾è°±ï¼‰

### 2. æœç´¢æ”¿ç­–

1. åœ¨"æ”¿ç­–æœç´¢"é¡µé¢
2. è¾“å…¥æœç´¢å…³é”®è¯
3. å¯é€‰ï¼šä½¿ç”¨é«˜çº§ç­›é€‰æ¡ä»¶
4. æŸ¥çœ‹æœç´¢ç»“æœå’Œè¯¦æƒ…

### 3. è¯­éŸ³é—®ç­”

1. åœ¨"è¯­éŸ³é—®ç­”"é¡µé¢
2. ç‚¹å‡»"å¼€å§‹å½•éŸ³"æˆ–"ä¸Šä¼ éŸ³é¢‘"
3. è¯´å‡ºé—®é¢˜
4. æŸ¥çœ‹è¯†åˆ«æ–‡æœ¬å’Œç­”æ¡ˆ

### 4. æµè§ˆçŸ¥è¯†å›¾è°±

1. åœ¨"çŸ¥è¯†å›¾è°±"é¡µé¢
2. é€‰æ‹©è§†å›¾ï¼ˆå…¨å±€/å­å›¾/æ—¶é—´çº¿ï¼‰
3. é€‰æ‹©å¸ƒå±€ç®—æ³•
4. ä¸å›¾è°±äº¤äº’ï¼ˆæ‹–æ‹½ã€ç¼©æ”¾ã€ç‚¹å‡»ï¼‰

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„é¡µé¢

1. åœ¨ `src/pages/` ä¸­åˆ›å»ºæ–°æ–‡ä»¶
2. å®ç°é¡µé¢å‡½æ•°
3. åœ¨ `app.py` ä¸­æ³¨å†Œé¡µé¢

```python
# src/pages/new_page.py
def show():
    st.title("æ–°é¡µé¢")
    # é¡µé¢å†…å®¹
```

### æ·»åŠ æ–°çš„ä¸šåŠ¡é€»è¾‘

1. åœ¨ `src/business/` ä¸­åˆ›å»ºæ–°æ–‡ä»¶
2. å®ç°ä¸šåŠ¡é€»è¾‘ç±»
3. åœ¨éœ€è¦çš„åœ°æ–¹å¯¼å…¥ä½¿ç”¨

```python
# src/business/new_logic.py
class NewLogic:
    def process(self, data):
        # å¤„ç†é€»è¾‘
        return result
```

### æ·»åŠ æ•°æ®åº“è¡¨

1. åœ¨ `src/database/schema.sql` ä¸­æ·»åŠ è¡¨å®šä¹‰
2. åœ¨ `src/database/db_manager.py` ä¸­æ·»åŠ åˆå§‹åŒ–é€»è¾‘
3. åˆ›å»ºå¯¹åº”çš„DAOç±»

## æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/test_services/

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=src tests/
```

## å¸¸è§é—®é¢˜

### Q: RAGFlowæœåŠ¡è¿æ¥å¤±è´¥
A: æ£€æŸ¥Dockeræ˜¯å¦è¿è¡Œï¼Œç«¯å£æ˜¯å¦æ­£ç¡®ï¼Œfirewallæ˜¯å¦é˜»æ­¢

### Q: è¯­éŸ³è¯†åˆ«ä¸å·¥ä½œ
A: ç¡®ä¿WhisperæœåŠ¡æ­£åœ¨è¿è¡Œï¼Œæ£€æŸ¥éŸ³é¢‘æ ¼å¼æ˜¯å¦æ”¯æŒ

### Q: æ•°æ®åº“é”å®šé”™è¯¯
A: æ£€æŸ¥æ˜¯å¦æœ‰å¤šä¸ªåº”ç”¨å®ä¾‹è®¿é—®åŒä¸€ä¸ªæ•°æ®åº“ï¼Œå¢åŠ è¶…æ—¶æ—¶é—´

## è´¡çŒ®

æ¬¢è¿æäº¤é—®é¢˜å’Œå»ºè®®ï¼

## è®¸å¯è¯

[é€‰æ‹©åˆé€‚çš„è®¸å¯è¯]

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- GitHub Issues
- Email: [your-email]

---

**æœ€åæ›´æ–°**: 2024å¹´

**ç‰ˆæœ¬**: 1.0.0-beta
